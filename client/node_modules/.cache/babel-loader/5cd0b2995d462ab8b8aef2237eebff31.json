{"ast":null,"code":"import _slicedToArray from \"/Users/dew/Desktop/NorthwesternCoding/GoogleBooks/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/dew/Desktop/NorthwesternCoding/GoogleBooks/client/src/pages/Home.js\";\nimport React, { useReducer, useRef, useEffect } from \"react\"; // import API from \"../../utils/API\";\n\nimport { useStoreContext } from \"../utils/GlobalState\";\nimport API from \"../utils/API\";\n\nvar Home = function Home() {\n  // allow access to context\n  var _useStoreContext = useStoreContext(),\n      _useStoreContext2 = _slicedToArray(_useStoreContext, 2),\n      state = _useStoreContext2[0],\n      dispatch = _useStoreContext2[1];\n\n  var inputRef = useRef();\n  useEffect(function () {\n    loadSearch([]);\n  }, []);\n\n  function loadSearch(results) {\n    dispatch({\n      type: \"bookSearch\",\n      results: results\n    });\n  }\n\n  var handleSubmit = function handleSubmit(e) {\n    e.preventDefault();\n    console.log(inputRef.current.value);\n    API.searchBook(inputRef.current.value).then(function (result) {\n      console.log(result);\n      loadSearch(result.data);\n    }).catch(function (err) {\n      return console.log(err);\n    });\n  };\n\n  function handleClick(book) {\n    console.log(book);\n    API.saveBook(book).then(function () {\n      console.log(\"added succefulu\");\n    });\n  }\n\n  return React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-sm-12\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"jumbotron text-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    className: \"display-4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, \"Google Search Books\"), React.createElement(\"p\", {\n    className: \"lead\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, \"Search for a book!\"))))), React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-sm-12\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"form-group mx-sm-3 mb-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    id: \"bookSearchInput\",\n    placeholder: \"Search book title\",\n    ref: inputRef,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-primary mb-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, \"Search\"))))), React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-sm-12\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, React.createElement(\"table\", {\n    className: \"table\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, React.createElement(\"tbody\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, state.map(function (book) {\n    if (book.volumeInfo.imageLinks && book.volumeInfo.authors) {\n      return React.createElement(\"tr\", {\n        key: book.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: book.volumeInfo.imageLinks.thumbnail,\n        alt: book.title,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      })), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, book.volumeInfo.title), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, book.title), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, \"by\", \" \", React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, book.volumeInfo.authors.join(\" \"))), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, book.volumeInfo.description)), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"#\",\n        onClick: function onClick() {\n          return handleClick({\n            title: book.volumeInfo.title,\n            authors: book.volumeInfo.authors.join(\" \"),\n            description: book.volumeInfo.description,\n            image: book.volumeInfo.imageLinks.thumbnail,\n            link: book.volumeInfo.previewLink\n          });\n        },\n        className: \"btn btn-primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, \"Add\"), React.createElement(\"a\", {\n        href: book.volumeInfo.previewLink,\n        className: \"btn btn-secondary\",\n        target: \"_blank\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, \"Google\")));\n    }\n  }))))));\n};\n\nexport default Home;","map":{"version":3,"sources":["/Users/dew/Desktop/NorthwesternCoding/GoogleBooks/client/src/pages/Home.js"],"names":["React","useReducer","useRef","useEffect","useStoreContext","API","Home","state","dispatch","inputRef","loadSearch","results","type","handleSubmit","e","preventDefault","console","log","current","value","searchBook","then","result","data","catch","err","handleClick","book","saveBook","map","volumeInfo","imageLinks","authors","id","thumbnail","title","join","description","image","link","previewLink"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,MAA5B,EAAoCC,SAApC,QAAqD,OAArD,C,CACA;;AACA,SAASC,eAAT,QAAgC,sBAAhC;AACA,OAAOC,GAAP,MAAgB,cAAhB;;AAEA,IAAMC,IAAI,GAAG,SAAPA,IAAO,GAAM;AACjB;AADiB,yBAESF,eAAe,EAFxB;AAAA;AAAA,MAEVG,KAFU;AAAA,MAEHC,QAFG;;AAIjB,MAAMC,QAAQ,GAAGP,MAAM,EAAvB;AAEAC,EAAAA,SAAS,CAAC,YAAM;AACdO,IAAAA,UAAU,CAAC,EAAD,CAAV;AACD,GAFQ,EAEN,EAFM,CAAT;;AAIA,WAASA,UAAT,CAAoBC,OAApB,EAA6B;AAC3BH,IAAAA,QAAQ,CAAC;AAAEI,MAAAA,IAAI,EAAE,YAAR;AAAsBD,MAAAA,OAAO,EAAEA;AAA/B,KAAD,CAAR;AACD;;AAED,MAAME,YAAY,GAAG,SAAfA,YAAe,CAAAC,CAAC,EAAI;AACxBA,IAAAA,CAAC,CAACC,cAAF;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYR,QAAQ,CAACS,OAAT,CAAiBC,KAA7B;AAEAd,IAAAA,GAAG,CAACe,UAAJ,CAAeX,QAAQ,CAACS,OAAT,CAAiBC,KAAhC,EACGE,IADH,CACQ,UAAAC,MAAM,EAAI;AACdN,MAAAA,OAAO,CAACC,GAAR,CAAYK,MAAZ;AACAZ,MAAAA,UAAU,CAACY,MAAM,CAACC,IAAR,CAAV;AACD,KAJH,EAKGC,KALH,CAKS,UAAAC,GAAG;AAAA,aAAIT,OAAO,CAACC,GAAR,CAAYQ,GAAZ,CAAJ;AAAA,KALZ;AAMD,GAVD;;AAYA,WAASC,WAAT,CAAqBC,IAArB,EAA2B;AACzBX,IAAAA,OAAO,CAACC,GAAR,CAAYU,IAAZ;AACAtB,IAAAA,GAAG,CAACuB,QAAJ,CAAaD,IAAb,EAAmBN,IAAnB,CAAwB,YAAM;AAC5BL,MAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ;AACD,KAFD;AAGD;;AAED,SACE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAI,IAAA,SAAS,EAAC,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BADF,EAEE;AAAG,IAAA,SAAS,EAAC,MAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAFF,CADF,CADF,CADF,CADF,EAWE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAM,IAAA,QAAQ,EAAEJ,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,yBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AACE,IAAA,IAAI,EAAC,MADP;AAEE,IAAA,SAAS,EAAC,cAFZ;AAGE,IAAA,EAAE,EAAC,iBAHL;AAIE,IAAA,WAAW,EAAC,mBAJd;AAKE,IAAA,GAAG,EAAEJ,QALP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAQE;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAsB,IAAA,SAAS,EAAC,sBAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cARF,CADF,CADF,CADF,CAXF,EA6BE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAO,IAAA,SAAS,EAAC,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGF,KAAK,CAACsB,GAAN,CAAU,UAAAF,IAAI,EAAI;AACjB,QAAIA,IAAI,CAACG,UAAL,CAAgBC,UAAhB,IAA8BJ,IAAI,CAACG,UAAL,CAAgBE,OAAlD,EAA2D;AACzD,aACE;AAAI,QAAA,GAAG,EAAEL,IAAI,CAACM,EAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AACE,QAAA,GAAG,EAAEN,IAAI,CAACG,UAAL,CAAgBC,UAAhB,CAA2BG,SADlC;AAEE,QAAA,GAAG,EAAEP,IAAI,CAACQ,KAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,EAOE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKR,IAAI,CAACG,UAAL,CAAgBK,KAArB,CAPF,EAQE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKR,IAAI,CAACQ,KAAV,CADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eACK,GADL,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAASR,IAAI,CAACG,UAAL,CAAgBE,OAAhB,CAAwBI,IAAxB,CAA6B,GAA7B,CAAT,CAFF,CAFF,EAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAIT,IAAI,CAACG,UAAL,CAAgBO,WAApB,CANF,CARF,EAgBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AACE,QAAA,IAAI,EAAC,GADP;AAEE,QAAA,OAAO,EAAE;AAAA,iBACPX,WAAW,CAAC;AACVS,YAAAA,KAAK,EAAER,IAAI,CAACG,UAAL,CAAgBK,KADb;AAEVH,YAAAA,OAAO,EAAEL,IAAI,CAACG,UAAL,CAAgBE,OAAhB,CAAwBI,IAAxB,CAA6B,GAA7B,CAFC;AAGVC,YAAAA,WAAW,EAAEV,IAAI,CAACG,UAAL,CAAgBO,WAHnB;AAIVC,YAAAA,KAAK,EAAEX,IAAI,CAACG,UAAL,CAAgBC,UAAhB,CAA2BG,SAJxB;AAKVK,YAAAA,IAAI,EAAEZ,IAAI,CAACG,UAAL,CAAgBU;AALZ,WAAD,CADJ;AAAA,SAFX;AAWE,QAAA,SAAS,EAAC,iBAXZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,EAgBE;AACE,QAAA,IAAI,EAAEb,IAAI,CAACG,UAAL,CAAgBU,WADxB;AAEE,QAAA,SAAS,EAAC,mBAFZ;AAGE,QAAA,MAAM,EAAC,QAHT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAhBF,CAhBF,CADF;AA2CD;AACF,GA9CA,CADH,CADF,CADF,CADF,CA7BF,CADF;AAuFD,CAxHD;;AA0HA,eAAelC,IAAf","sourcesContent":["import React, { useReducer, useRef, useEffect } from \"react\";\n// import API from \"../../utils/API\";\nimport { useStoreContext } from \"../utils/GlobalState\";\nimport API from \"../utils/API\";\n\nconst Home = () => {\n  // allow access to context\n  const [state, dispatch] = useStoreContext();\n\n  const inputRef = useRef();\n\n  useEffect(() => {\n    loadSearch([]);\n  }, []);\n\n  function loadSearch(results) {\n    dispatch({ type: \"bookSearch\", results: results });\n  }\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    console.log(inputRef.current.value);\n\n    API.searchBook(inputRef.current.value)\n      .then(result => {\n        console.log(result);\n        loadSearch(result.data);\n      })\n      .catch(err => console.log(err));\n  };\n\n  function handleClick(book) {\n    console.log(book);\n    API.saveBook(book).then(() => {\n      console.log(\"added succefulu\");\n    });\n  }\n\n  return (\n    <div className=\"container\">\n      <div className=\"row\">\n        <div className=\"col-sm-12\">\n          <div className=\"jumbotron text-center\">\n            <div className=\"container\">\n              <h1 className=\"display-4\">Google Search Books</h1>\n              <p className=\"lead\">Search for a book!</p>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"row\">\n        <div className=\"col-sm-12\">\n          <form onSubmit={handleSubmit}>\n            <div className=\"form-group mx-sm-3 mb-2\">\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                id=\"bookSearchInput\"\n                placeholder=\"Search book title\"\n                ref={inputRef}\n              ></input>\n              <button type=\"submit\" className=\"btn btn-primary mb-2\">\n                Search\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n      <div className=\"row\">\n        <div className=\"col-sm-12\">\n          <table className=\"table\">\n            <tbody>\n              {state.map(book => {\n                if (book.volumeInfo.imageLinks && book.volumeInfo.authors) {\n                  return (\n                    <tr key={book.id}>\n                      <td>\n                        <img\n                          src={book.volumeInfo.imageLinks.thumbnail}\n                          alt={book.title}\n                        />\n                      </td>\n                      <td>{book.volumeInfo.title}</td>\n                      <td>\n                        <h5>{book.title}</h5>\n                        <p>\n                          by{\" \"}\n                          <strong>{book.volumeInfo.authors.join(\" \")}</strong>\n                        </p>\n                        <p>{book.volumeInfo.description}</p>\n                      </td>\n                      <td>\n                        <a\n                          href=\"#\"\n                          onClick={() =>\n                            handleClick({\n                              title: book.volumeInfo.title,\n                              authors: book.volumeInfo.authors.join(\" \"),\n                              description: book.volumeInfo.description,\n                              image: book.volumeInfo.imageLinks.thumbnail,\n                              link: book.volumeInfo.previewLink\n                            })\n                          }\n                          className=\"btn btn-primary\"\n                        >\n                          Add\n                        </a>\n                        <a\n                          href={book.volumeInfo.previewLink}\n                          className=\"btn btn-secondary\"\n                          target=\"_blank\"\n                        >\n                          Google\n                        </a>\n                      </td>\n                    </tr>\n                  );\n                }\n              })}\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}